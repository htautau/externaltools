#!/bin/bash

#if [ -d src/common/JetUncertainties ]
#then
#    echo "patching JetUncertainties..."
#    if [ ! -d src/common/JetUncertainties/share/analysisPlots ]
#    then
#        cp -r src/common/JetUncertainties/analysisPlots src/common/JetUncertainties/share/analysisPlots
#    fi
#    cp patches/JetUncertainties/*.config src/common/JetUncertainties/share/
#fi
if [ -d src/bundle_2011/CoEPPTrigTool ]
then
    echo "patching CoEPPTrigTool..."
    cp patches/CoEPPTrigTool/config_EF_DiTau.xml src/bundle_2011/CoEPPTrigTool/share/
    cp patches/CoEPPTrigTool/config_EF_DiTau_with_resurrected.xml src/bundle_2011/CoEPPTrigTool/share/

    cp patches/CoEPPTrigTool/EF_tau29_medium1_tau20_medium1_Hypo_00_02_35.xml src/bundle_2011/CoEPPTrigTool/share/triggers/TrigTauHypo_00_02_35/
    cp patches/CoEPPTrigTool/EF_tau29_medium1_tau20_medium1_Hypo_00_02_42.xml src/bundle_2011/CoEPPTrigTool/share/triggers/TrigTauHypo_00_02_42/
    cp patches/CoEPPTrigTool/EF_tau29_medium1_tau20_medium1_Hypo_00_03_02.xml src/bundle_2011/CoEPPTrigTool/share/triggers/TrigTauHypo_00_03_02/
    cp patches/CoEPPTrigTool/EF_tau29T_medium1_tau20T_medium1_Hypo_00_03_02.xml src/bundle_2011/CoEPPTrigTool/share/triggers/TrigTauHypo_00_03_02/
fi
if [ -d src/bundle_2011/TauTriggerCorrections ]
then
    echo "patching TauTriggerCorrections..."
    if [ -d src/bundle_2011/TauTriggerCorrections/root ]
    then
        mv src/bundle_2011/TauTriggerCorrections/root src/bundle_2011/TauTriggerCorrections/share
    fi
fi
if [ -d src/bundle_2012/TauFakeRates ]
then
    echo "patching TauFakeRates..."
    if [ -d src/bundle_2012/TauFakeRates/include ]
    then
        mv src/bundle_2012/TauFakeRates/include src/bundle_2012/TauFakeRates/TauFakeRates
    fi
    cp patches/bundle_2012/TauFakeRates/LinkDef.h src/bundle_2012/TauFakeRates/TauFakeRates/
fi
echo "done"
